---
title: "保密字典"
weight: 2
description: 保密字典以键值对的形式保存加密的配置信息。
---

保密字典（Secret）以键值对的形式保存密码、令牌、密钥等敏感数据。目前仅支持创建私有仓库的的密钥以及Ceph CSI相关信息。

保密字典的详细介绍内容，请参考[kubernets官方文档-Secrets](https://kubernetes.io/docs/concepts/configuration/secret/)。

**镜像密钥的使用方法**

1. 用户在保密字典中创建密钥。
2. 用户在创建deployment、Statefulset、job、cronjob时使用私有镜像仓库中镜像时，可在镜像密钥选择已有密钥。

**入口**：在云管平台单击左上角![](../../../images/intro/nav.png)导航菜单，在弹出的左侧菜单栏中单击 **_"容器/应用配置/保密字典"_** 菜单项，进入保密字典页面。

![](../../../images/docker/secret1.png)


## 查看保密字典

该功能用于基于集群、命名空间筛选保密字典信息。

1. 在保密字典页面，默认查看一个集群下所有命名空间的保密字典信息。
2. 当环境中存在多个集群时，单击列表上方集群右侧输入框，选择其他集群，查看其他集群下的所有命名空间的保密字典信息。
3. 当集群下存在多个命名空间时，单击列表上方命名空间右侧输入框，选择命名空间，查看指定命名空间下的保密字典信息。

    ![](../../../images/docker/switchcluster&namespace.png)

## 新建保密字典

该功能用于创建镜像仓库密钥以及Ceph CSI类型的保密字典。

1. 在保密字典页面，单击列表上方 **_"新建"_** 按钮，进入创建保密字典页面。
2. 配置以下参数：
    - 类型：目前支持创建镜像仓库密钥和Ceph CSI。
    - 当类型设置为“镜像仓库密钥”时，设置以下参数：
        - 名称：保密字典的名称。
        - 集群：选择保密字典所属集群。
        - 命名空间：选择保密字典所属命名空间。命名空间用于逻辑划分集群，deployment、pod、service等都属于某一命名空间。在云管平台中命名空间对应项目。Kubernetes集群创建完成后默认将生成default、kube-system、kube-public等命名空间。
        - 镜像仓库地址：设置镜像私有仓库的地址。请根据需求输入域名、IP。
        - 用户名：请根据需求输入镜像私有仓库的实际用户名。
        - 密码：请根据需求输入镜像私有仓库的实际登录密码。
        - 邮箱：请根据需求设置用户邮箱。  
    - 当类型设置为“Ceph CSI”时，设置以下参数：
        - 名称：保密字典的名称。
        - 集群：选择保密字典所属集群。
        - 命名空间：选择保密字典所属命名空间。命名空间用于逻辑划分集群，deployment、pod、service等都属于某一命名空间。在云管平台中命名空间对应项目。Kubernetes集群创建完成后默认将生成default、kube-system、kube-public等命名空间。
        - UserId：请根据需求设置Ceph CSI的UserId。
        - UserKey：请根据需求设置Ceph CSI的UserKey。
3. 单击 **_"确定"_** 按钮，创建保密字典。

## 查看/编辑

该功能用于查看或者编辑保密字典的yaml文件。

1. 在保密字典页面，单击保密字典右侧操作列 **_"更多"_** 按钮，选择下拉菜单 **_"查看/编辑"_** 菜单项，弹出查看/更新对话框。
2. 支持查看和编辑保密字典的yaml文件信息。
3. 编辑yaml文件后，单击 **_"确定"_** 按钮，即可生效。

## 删除保密字典

该功能用于删除保密字典。

**单个删除**

1. 在保密字典页面，单击保密字典右侧操作列 **_"删除"_** 按钮，弹出的操作确认对话框。
2. 单击 **_"确定"_** 按钮，删除保密字典以及相关资源。

**批量删除**

1. 在保密字典列表中选择一个或多个保密字典，单击列表上方 **_"删除"_** 按钮，弹出的操作确认对话框。
2. 单击 **_"确定"_** 按钮，删除保密字典以及相关资源。

## 查看保密字典详情

该功能用于查看保密字典相关信息。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 查看以下信息：包括ID、状态、名称、状态、集群、命名空间、注释、创建时间等。

## 查看容器组

该功能用于查看保密字典关联的容器组，并支持管理容器组。

### 查看/编辑

该功能用于查看容器组的yaml文件。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“容器组”页签，进入容器组页面。
3. 单击容器组右侧操作列 **_"查看/编辑"_** 按钮，弹出查看/更新对话框。
4. 支持查看和编辑保密字典的yaml文件信息。
5. 编辑yaml文件后，单击 **_"确定"_** 按钮，即可生效。

### 删除

该功能用于删除容器组。容器组删除后将会根据yaml文件设置重新部署新的容器组。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“容器组”页签，进入容器组页面。
3. 单击容器组右侧操作列 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

### 删除

该功能用于删除服务。
 
1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“服务”页签，进入服务页面。
3. 单击服务右侧操作列 **_"删除"_** 按钮，弹出操作确认对话框。
4. 单击 **_"确定"_** 按钮，完成操作。

## 查看事件

该功能用于记录资源对象事件发生的记录，包括内容、来源、原因、创建时间，用于排除故障。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“事件”页签，进入事件页面。
3. 查看事件的内容、来源、原因以及创建时间等。

## 查看源信息

该功能用于查看并编辑保密字典的yaml信息。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“源信息”页签，进入源信息页面。
3. 单击 **_"复制内容"_** 按钮，复制节点的yaml文件信息。
4. 更新yaml文件后，单击 **_"更新"_** 按钮。

## 查看操作日志

该功能用于查看保密字典相关的操作日志。

1. 在保密字典页面，单击保密字典名称项，进入保密字典详情页面。
2. 单击“操作日志”页签，进入操作日志页面。
    - 加载更多日志：列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 **_"加载更多"_** 按钮，获取更多日志信息。
    - 查看日志详情：单击操作日志右侧操作列 **_"查看"_** 按钮，查看日志的详情信息。支持复制详情内容。
    - 查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。
    - 导出日志：目前仅支持导出本页显示的日志。单击右上角![](../../../images/system/download.png)图标，在弹出的导出数据对话框中，设置导出数据列，单击 **_"确定"_** 按钮，导出日志。
