---
title: "存储类"
weight: 3
description: 存储类用于定义容器集群中的不同存储类型。
---

存储类用于定义容器集群中的不同存储类型，目前仅支持本地存储和Ceph存储。容器集群默认提供本地存储的存储类。存储类用于配合持久卷（PV）动态的创建需要的存储资源。

存储类的详细介绍内容，请参考[kubernets官方文档-存储类](https://kubernetes.io/zh/docs/concepts/storage/storage-classes/)。

**入口**：在云管平台单击左上角![](../../../images/intro/nav.png)导航菜单，在弹出的左侧菜单栏中单击 **_"容器/集群/存储类"_** 菜单项，进入存储类页面。

![](../../../images/docker/storageclass.png)

## 查看存储类

该功能用于查看集群的存储类信息。

1. 在存储类页面，默认查看一个集群下的存储类信息。
2. 当环境中存在多个集群时，可单击列表上方集群右侧输入框，选择其他集群，查看其他集群下的存储类信息。

    ![](../../../images/docker/switchcluster.png)

## 新建存储类

该功能用于创建Ceph类型的存储类，创建存储类之前请先在[服务组件](../k8s-kubecomponent)中对接Ceph CSI。

1. 在存储类页面，单击列表上方 **_"新建"_** 按钮，进入新建存储类页面。
2. 配置以下参数：
   - 存储系统：目前仅支持Ceph RBD。
   - 名称：设置存储类的名称。
   - 集群：选择存储类所属的集群。
   - 保密字典：请选择Ceph RBD类型的保密字典。
   - Ceph集群：选择在服务组件中已对接的Ceph集群。
   - Pool：Ceph RBD池。默认是"rbd"。
   - 文件系统：定义文件系统类型，支持ext4和xfs。
3. 单击 **_"确定"_** 按钮，完成操作。

## 设置为默认

该功能用于将存储类设置为默认，默认的存储类将用于动态的没有特定存储类需求的PVC配置存储。

1. 在存储类页面，单击存储类右侧操作列 **_"设置为默认"_** 按钮，将存储类设置为默认。


## 删除

该功能用于删除存储类。

**单个删除**

1. 在存储类页面，单击存储类右侧操作列 **_"删除"_** 按钮，弹出的操作确认对话框。
2. 单击 **_"确定"_** 按钮，删除存储类以及相关资源。

**批量删除**

1. 在存储类列表中选择一个或多个存储类，单击列表上方 **_"删除"_** 按钮，弹出的操作确认对话框。
2. 单击 **_"确定"_** 按钮，删除存储类以及相关资源。

## 查看/编辑

该功能用于查看或者编辑存储类的yaml文件。

1. 在存储类页面，单击存储类右侧操作列 **_"查看/编辑"_** 按钮，弹出查看/更新对话框。
2. 支持查看和编辑存储类的yaml文件信息。
3. 编辑yaml文件后，单击 **_"确定"_** 按钮，即可生效。

## 查看存储类详情

该功能用于查看存储类相关信息。

1. 在存储类页面，单击存储类名称项，进入存储类详情页面。
2. 查看以下信息：包括云上ID、ID、名称、状态、域、项目、集群、默认、供应站、创建时间、更新时间、备注等。

## 查看事件

该功能用于记录资源对象事件发生的记录，包括内容、来源、原因、创建时间，用于排除故障。

1. 在存储类页面，单击存储类名称项，进入存储类详情页面。
2. 单击“事件”页签，进入事件页面。
3. 查看事件的内容、来源、原因以及创建时间等。

## 查看源信息

该功能用于查看并编辑存储类的yaml信息。

1. 在存储类页面，单击存储类名称项，进入存储类详情页面。
2. 单击“源信息”页签，进入源信息页面。
3. 单击 **_"复制内容"_** 按钮，复制节点的yaml文件信息。
4. 更新yaml文件后，单击 **_"更新"_** 按钮。

## 查看操作日志

该功能用于查看存储类相关的操作日志。

1. 在存储类页面，单击存储类名称项，进入存储类详情页面。
2. 单击“操作日志”页签，进入操作日志页面。
    - 加载更多日志：列表默认显示20条操作日志信息，如需查看更多操作日志，请单击 **_"加载更多"_** 按钮，获取更多日志信息。
    - 查看日志详情：单击操作日志右侧操作列 **_"查看"_** 按钮，查看日志的详情信息。支持复制详情内容。
    - 查看指定时间段的日志：如需查看某个时间段的操作日志，在列表右上方的开始日期和结束日期中设置具体的日期，查询指定时间段的日志信息。
    - 导出日志：目前仅支持导出本页显示的日志。单击右上角![](../../../images/system/download.png)图标，在弹出的导出数据对话框中，设置导出数据列，单击 **_"确定"_** 按钮，导出日志。
